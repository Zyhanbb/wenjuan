# é—®å·ç®¡ç†åå° (wenjuan-fe)

åŸºäº React + TypeScript æ„å»ºçš„é—®å·ç®¡ç†åå°ç³»ç»Ÿï¼Œæä¾›é—®å·åˆ›å»ºã€ç¼–è¾‘ã€å‘å¸ƒã€ç»Ÿè®¡ç­‰å®Œæ•´åŠŸèƒ½ã€‚

## ğŸ¯ åŠŸèƒ½ç‰¹æ€§

### ç”¨æˆ·ç®¡ç†
- âœ… ç”¨æˆ·æ³¨å†Œ/ç™»å½•
- âœ… ç”¨æˆ·ä¿¡æ¯ç®¡ç†
- âœ… è®°ä½ç™»å½•çŠ¶æ€

### é—®å·ç®¡ç†
- âœ… é—®å·åˆ›å»ºå’Œç¼–è¾‘
- âœ… é—®å·åˆ—è¡¨ç®¡ç†ï¼ˆæˆ‘çš„é—®å·ã€æ˜Ÿæ ‡é—®å·ã€å›æ”¶ç«™ï¼‰
- âœ… é—®å·æœç´¢å’Œç­›é€‰
- âœ… é—®å·å¤åˆ¶åŠŸèƒ½
- âœ… é—®å·å‘å¸ƒ/ä¸‹çº¿
- âœ… é—®å·åˆ é™¤ï¼ˆè½¯åˆ é™¤/å½»åº•åˆ é™¤ï¼‰
- âœ… AIæ™ºèƒ½ç”Ÿæˆé—®å·æ¨¡æ¿ï¼ˆåŸºäºç”¨æˆ·éœ€æ±‚è‡ªåŠ¨ç”Ÿæˆé—®å·ç»“æ„ï¼‰

### é—®å·ç¼–è¾‘å™¨
- âœ… æ‹–æ‹½å¼ç»„ä»¶ç¼–è¾‘å™¨
- âœ… å¤šç§é¢˜å‹æ”¯æŒï¼š
  - æ–‡æœ¬æ˜¾ç¤ºï¼šæ ‡é¢˜ã€æ®µè½ã€ä¿¡æ¯å±•ç¤º
  - ç”¨æˆ·è¾“å…¥ï¼šå•è¡Œæ–‡æœ¬ã€å¤šè¡Œæ–‡æœ¬
  - ç”¨æˆ·é€‰æ‹©ï¼šå•é€‰ã€å¤šé€‰
- âœ… å®æ—¶é¢„è§ˆ
- âœ… æ’¤é”€/é‡åšåŠŸèƒ½
- âœ… ç»„ä»¶å±æ€§é…ç½®
- âœ… AIæ™ºèƒ½ç”Ÿæˆç»„ä»¶ï¼ˆæ ¹æ®éœ€æ±‚è‡ªåŠ¨ç”Ÿæˆé—®å·ç»„ä»¶ï¼‰

### æ•°æ®ç»Ÿè®¡
- âœ… ç­”å·æ•°æ®æ”¶é›†
- âœ… ç»Ÿè®¡å›¾è¡¨å±•ç¤º
- âœ… ç»„ä»¶çº§æ•°æ®ç»Ÿè®¡
- âœ… æ•°æ®å¯¼å‡ºåŠŸèƒ½

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **React 18** - ç”¨æˆ·ç•Œé¢æ¡†æ¶
- **TypeScript** - ç±»å‹å®‰å…¨
- **Ant Design 5** - UI ç»„ä»¶åº“
- **Redux Toolkit** - çŠ¶æ€ç®¡ç†
- **React Router 6** - è·¯ç”±ç®¡ç†
- **ahooks** - React Hooks åº“
- **Sass** - CSS é¢„å¤„ç†å™¨
- **Storybook** - ç»„ä»¶å¼€å‘å·¥å…·

## ğŸ“ é¡¹ç›®ç»“æ„

```
wenjuan-fe/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/          # é€šç”¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ QuestionComponents/  # é—®å·ç»„ä»¶åº“
â”‚   â”‚   â”œâ”€â”€ DragSortable/        # æ‹–æ‹½æ’åºç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ QuestionTitleModal.tsx # AIç”Ÿæˆé—®å·å¼¹çª—
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ pages/              # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Home.tsx        # é¦–é¡µ
â”‚   â”‚   â”œâ”€â”€ Login.tsx       # ç™»å½•é¡µ
â”‚   â”‚   â”œâ”€â”€ Register.tsx    # æ³¨å†Œé¡µ
â”‚   â”‚   â”œâ”€â”€ manage/         # ç®¡ç†é¡µé¢
â”‚   â”‚   â”‚   â”œâ”€â”€ List.tsx    # é—®å·åˆ—è¡¨
â”‚   â”‚   â”‚   â”œâ”€â”€ Star.tsx    # æ˜Ÿæ ‡é—®å·
â”‚   â”‚   â”‚   â””â”€â”€ Trash.tsx   # å›æ”¶ç«™
â”‚   â”‚   â””â”€â”€ question/       # é—®å·ç›¸å…³é¡µé¢
â”‚   â”‚       â”œâ”€â”€ Edit/       # é—®å·ç¼–è¾‘
â”‚   â”‚       â””â”€â”€ Stat/       # æ•°æ®ç»Ÿè®¡
â”‚   â”œâ”€â”€ services/           # API æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ ajax.ts        # HTTP è¯·æ±‚å°è£…
â”‚   â”‚   â”œâ”€â”€ user.ts        # ç”¨æˆ·ç›¸å…³æ¥å£
â”‚   â”‚   â”œâ”€â”€ question.ts   # é—®å·ç›¸å…³æ¥å£ï¼ˆåŒ…å«AIç”Ÿæˆæ¥å£ï¼‰
â”‚   â”‚   â””â”€â”€ stat.ts       # ç»Ÿè®¡ç›¸å…³æ¥å£
â”‚   â”œâ”€â”€ store/             # Redux çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ index.ts       # Store é…ç½®
â”‚   â”‚   â”œâ”€â”€ userReducer.ts # ç”¨æˆ·çŠ¶æ€
â”‚   â”‚   â”œâ”€â”€ pageInfoReducer.ts # é¡µé¢ä¿¡æ¯çŠ¶æ€
â”‚   â”‚   â””â”€â”€ componentsReducer/ # ç»„ä»¶çŠ¶æ€
â”‚   â”œâ”€â”€ hooks/             # è‡ªå®šä¹‰ Hooks
â”‚   â”œâ”€â”€ layouts/           # å¸ƒå±€ç»„ä»¶
â”‚   â”œâ”€â”€ router/            # è·¯ç”±é…ç½®
â”‚   â”œâ”€â”€ utils/             # å·¥å…·å‡½æ•°
â”‚   â””â”€â”€ styles/            # æ ·å¼æ–‡ä»¶
â”œâ”€â”€ public/                # é™æ€èµ„æº
â”œâ”€â”€ package.json
â””â”€â”€ README.md
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Node.js >= 16.0.0
- npm >= 8.0.0

### å®‰è£…ä¾èµ–

```bash
npm install
```

### å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
npm start
```

è®¿é—® [http://localhost:3000](http://localhost:3000) æŸ¥çœ‹åº”ç”¨ã€‚

### å…¶ä»–å‘½ä»¤

```bash
# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build

# è¿è¡Œæµ‹è¯•
npm run test

# ä»£ç æ ¼å¼åŒ–
npm run format

# ä»£ç æ£€æŸ¥
npm run lint

# å¯åŠ¨ Storybook
npm run storybook

# åˆ†ææ„å»ºåŒ…å¤§å°
npm run analyze
```

## ğŸ¨ ç»„ä»¶ç³»ç»Ÿ

### é—®å·ç»„ä»¶ç±»å‹

#### æ–‡æœ¬æ˜¾ç¤ºç»„ä»¶
- **QuestionTitle**: æ ‡é¢˜ç»„ä»¶
- **QuestionParagraph**: æ®µè½ç»„ä»¶  
- **QuestionInfo**: ä¿¡æ¯å±•ç¤ºç»„ä»¶

#### ç”¨æˆ·è¾“å…¥ç»„ä»¶
- **QuestionInput**: å•è¡Œæ–‡æœ¬è¾“å…¥
- **QuestionTextarea**: å¤šè¡Œæ–‡æœ¬è¾“å…¥

#### ç”¨æˆ·é€‰æ‹©ç»„ä»¶
- **QuestionRadio**: å•é€‰é¢˜
- **QuestionCheckbox**: å¤šé€‰é¢˜

### ç»„ä»¶å¼€å‘

ä½¿ç”¨ Storybook è¿›è¡Œç»„ä»¶å¼€å‘ï¼š

```bash
npm run storybook
```

è®¿é—® [http://localhost:6006](http://localhost:6006) æŸ¥çœ‹ç»„ä»¶æ–‡æ¡£ã€‚

## ğŸ”§ å¼€å‘æŒ‡å—

### çŠ¶æ€ç®¡ç†

ä½¿ç”¨ Redux Toolkit è¿›è¡ŒçŠ¶æ€ç®¡ç†ï¼š

- `userReducer`: ç”¨æˆ·ä¿¡æ¯çŠ¶æ€
- `pageInfoReducer`: é¡µé¢ä¿¡æ¯çŠ¶æ€
- `componentsReducer`: é—®å·ç»„ä»¶çŠ¶æ€

### è·¯ç”±é…ç½®

ä¸»è¦è·¯ç”±ï¼š
- `/` - é¦–é¡µ
- `/login` - ç™»å½•é¡µ
- `/register` - æ³¨å†Œé¡µ
- `/manage/list` - é—®å·åˆ—è¡¨
- `/manage/star` - æ˜Ÿæ ‡é—®å·
- `/manage/trash` - å›æ”¶ç«™
- `/question/edit/:id` - é—®å·ç¼–è¾‘
- `/question/stat/:id` - æ•°æ®ç»Ÿè®¡

### API æ¥å£

æ‰€æœ‰ API è¯·æ±‚éƒ½é€šè¿‡ `services` ç›®å½•ä¸‹çš„æœåŠ¡æ–‡ä»¶è¿›è¡Œå°è£…ï¼š

- `services/user.ts` - ç”¨æˆ·ç›¸å…³æ¥å£
- `services/question.ts` - é—®å·ç›¸å…³æ¥å£ï¼ˆåŒ…å«AIç”Ÿæˆæ¥å£ï¼‰
- `services/stat.ts` - ç»Ÿè®¡ç›¸å…³æ¥å£

### AIç”Ÿæˆç›¸å…³æ¥å£

- `getQuestionServiceByLLM(id, llm)` - è°ƒç”¨AIç”Ÿæˆé—®å·æ¨¡æ¿
- æ”¯æŒé™çº§ç­–ç•¥ï¼šå½“AIæœåŠ¡ä¸å¯ç”¨æ—¶è‡ªåŠ¨ä½¿ç”¨æ¨¡æ‹Ÿæ•°æ®

### æ ·å¼è§„èŒƒ

- ä½¿ç”¨ Sass é¢„å¤„ç†å™¨
- é‡‡ç”¨ CSS Modules é¿å…æ ·å¼å†²çª
- éµå¾ª BEM å‘½åè§„èŒƒ

## ğŸ“Š æ•°æ®æµ

### é—®å·ç¼–è¾‘æµç¨‹
1. ç”¨æˆ·åˆ›å»ºé—®å· â†’ è°ƒç”¨ `createQuestionService`
2. åŠ è½½é—®å·æ•°æ® â†’ è°ƒç”¨ `getQuestionService` æˆ– `getQuestionServiceByLLM`ï¼ˆAIç”Ÿæˆï¼‰
3. ç¼–è¾‘ç»„ä»¶ â†’ æ›´æ–° Redux çŠ¶æ€
4. ä¿å­˜é—®å· â†’ è°ƒç”¨ `updateQuestionService`

### AIç”Ÿæˆæµç¨‹
1. ç”¨æˆ·ç‚¹å‡»åˆ›å»ºé—®å· â†’ æ˜¾ç¤º `QuestionTitleModal` å¼¹çª—
2. ç”¨æˆ·è¾“å…¥éœ€æ±‚æè¿° â†’ è°ƒç”¨ `getQuestionServiceByLLM`
3. åç«¯è°ƒç”¨AIæœåŠ¡ç”Ÿæˆé—®å·æ¨¡æ¿ â†’ è¿”å›ç»„ä»¶åˆ—è¡¨
4. å‰ç«¯åŠ è½½ç”Ÿæˆçš„é—®å·æ¨¡æ¿ â†’ è¿›å…¥ç¼–è¾‘æ¨¡å¼

### æ•°æ®ç»Ÿè®¡æµç¨‹
1. åŠ è½½é—®å·æ•°æ® â†’ è°ƒç”¨ `getQuestionService`
2. åŠ è½½ç­”å·åˆ—è¡¨ â†’ è°ƒç”¨ `getQuestionStatListService`
3. åŠ è½½ç»„ä»¶ç»Ÿè®¡ â†’ è°ƒç”¨ `getComponentStatService`
4. æ¸²æŸ“ç»Ÿè®¡å›¾è¡¨

## ğŸ”Œ ç¯å¢ƒé…ç½®

### å¼€å‘ç¯å¢ƒ
```bash
# .env.development
REACT_APP_API_URL=http://localhost:3001
```

### ç”Ÿäº§ç¯å¢ƒ
```bash
# .env.production
REACT_APP_API_URL=https://api.yourdomain.com
```

## ğŸš€ éƒ¨ç½²

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
npm run build
```

### éƒ¨ç½²åˆ°æœåŠ¡å™¨

å°† `build` ç›®å½•ä¸‹çš„æ–‡ä»¶éƒ¨ç½²åˆ° Web æœåŠ¡å™¨å³å¯ã€‚

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. åˆ›å»º Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ã€‚